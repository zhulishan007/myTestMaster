@using MARS_Web.Helper;
@using MARS_Repository.ViewModel;
@{
    var PrivilegeList = Session["PrivilegeList"] as List<PrivilegeViewModel>;
    var RoleList = Session["RoleList"] as List<RoleViewModel>;
   
}

<!DOCTYPE html>
<html>
<head>
    <base href="">
    <meta charset="utf-8" />
    <style>
        .dataset_model-wide {
            width: 778px !important;
        }

        .collapseBorder {
            border-bottom: 2px solid gray !important;
        }

        p.ui-draggable.ui-draggable-handle:active {
            color: red;
        }

        .ExpandAllSteps {
            background: url('/PQGridPro/images/ExpandAll.png') !important
        }

        .CollapseAll {
            background: url('/PQGridPro/images/CollapseAll.png') !important
        }

        .ui-icon-expand-Row {
            background: url('/PQGridPro/images/ExpandRows.png') !important;
            width: 20px !important;
            height: 20px !important;
            border-color: white;
        }

        .ui-icon-Copy {
            background: url('/PQGridPro/images/copy.png') !important
        }

        .ui-icon-Paste {
            background: url('/PQGridPro/images/paste.png') !important
        }

        .ui-icon-collapse-Row {
            background: url('/PQGridPro/images/CollapseRows.png') !important;
            width: 20px !important;
            height: 20px !important;
            border-color: white;
        }

        .grey {
            background-color: #c0c0c0;
        }

        .hideRightborder {
            border-right: none !important;
        }

        .hideLeftborder {
            border-left: none !important;
        }

        .ui-state-error {
            /*left: 25% !important;*/
        }

        .green {
            background-color: #59c0e7;
        }

        .lightblue {
            background-color: lightgreen;
        }

        .floatRight {
            float: right;
        }

        .kt-menu__item1:hover {
            cursor: pointer;
        }

        #clsTSTC span {
            height: 37px;
        }

        .popover-body {
            background-color: rgb(28, 96, 129);
            color: #fff !important;
            /*font-size: medium;*/
            font-size: small;
        }

        #clsobject span {
            height: 37px;
        }

        td {
            word-break: break-all;
            /*word-wrap: normal;*/
        }

        .dual-listbox__title {
            background-color: #e9f5ff;
        }

        .swal2-icon-content {
            display: none !important;
        }
    </style>

    <meta name="description" content="Updates and statistics">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <link href="~/assets/css/json-viewer.css" rel="stylesheet" />
    <link href="~/assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/style.bundle.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/skins/header/base/light.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/skins/header/menu/light.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/skins/brand/dark.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/css/skins/aside/dark.css" rel="stylesheet" type="text/css" />

    <link href="~/assets/css/simplebar.css" rel="stylesheet" />
    <link href="~/assets/css/custom.css" rel="stylesheet" />

    <link href="~/assets/css/custom.css" rel="stylesheet" />
    <link href="~/PQGridPro/css/pqgrid.dev.css" rel="stylesheet" />

    <link href="~/PQGridPro/css/pqgrid.ui.dev.css" rel="stylesheet" />
    <link href="~/PQGridPro/pqSelect/pqselect.dev.css" rel="stylesheet" />

    <link href="~/assets/css/simpleXML.css" rel="stylesheet" />

    <script src="~/PQGridPro/js/jquery-1.9.1.min.js"></script>
    <script src="~/assets/plugins/global/plugins.bundle.js" type="text/javascript"></script>

    <script src="~/PQGridPro/js/jquery-ui.min.js"></script>
    <script src="~/PQGridPro/js/pqgrid.dev.js"></script>

    <script src="~/PQGridPro/pqSelect/pqselect.dev.js"></script>


    <script src="~/PQGridPro/jsZip-2.5.0/jszip.min.js"></script>

    <script src="~/assets/js/simplebar.min.js"></script>
    @*<script src="~/assets/js/pages/components/extended/dual-listbox.js"></script>*@
    <script src="~/Scripts/jquery.signalR-2.4.1.js"></script>
    <script src="~/signalr/hubs"></script>

    <link rel="stylesheet" href="~/Charts/css/ChartLayout.css" />
    @* JS files for Charts*@
    @* for bar charts*@
    <script src="~/Charts/js/d3.v5.min.js"></script>
    <script src="~/Charts/js/x3dom-full.js"></script>
    <script src="~/Charts/js/d3-x3d.min.js"></script>
    @* for 3D charts *@
    <script src="~/Charts/js/plotly.min.js"></script>

    @* for pie charts *@
    <script src="~/Charts/js/highcharts.js"></script>
    @* CSS files for Charts*@
    <link rel="stylesheet" href="~/Charts/css/x3dom.css" />

    <script>
        var gridchart = {};
        var ExistDataSetRenameList = [];
        var DeleteColumnsList = [];

    </script>
    @*<title>Mars Revamp</title>*@
    <title>Mars - [@SessionManager.Schema/@SessionManager.Host]</title>
    <!--begin::Page Vendors(used by this page) -->
</head>
<body class="kt-quick-panel--right kt-demo-panel--right kt-offcanvas-panel--right kt-header--fixed kt-header-mobile--fixed kt-subheader--enabled kt-subheader--fixed kt-subheader--solid kt-page--loading">
    <!-- begin:: Page -->
    <!-- begin:: Header Mobile -->

    <div id="kt_header_mobile" class="kt-header-mobile  kt-header-mobile--fixed " style="background-color:#1582ab;">
        <div class="kt-header-mobile__logo">
            <a href="index.html">
                @*<img alt="Logo" src="~/assets/media/logo/logo.gif" height="50px;" />*@
            </a>
        </div>

        <div class="kt-header-mobile__toolbar">
            <button class="kt-header-mobile__toggler kt-header-mobile__toggler--left" id="kt_aside_mobile_toggler"><span></span></button>
            <button class="kt-header-mobile__toggler" id="kt_header_mobile_toggler"><span></span></button>
            <button class="kt-header-mobile__topbar-toggler" id="kt_header_mobile_topbar_toggler"><i class="flaticon-more"></i></button>
        </div>
    </div>
    <!-- end:: Header Mobile -->
    <!--<div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>-->
    <div class="lds-roller">
        <img src="/assets/media/mars.gif" style="width:80px;" />
    </div>
    <div class="kt-grid kt-grid--hor kt-grid--root" id="mainbody">
        
            <!-- begin:: Aside -->
            <!-- Uncomment this to display the close button of the panel
            <button class="kt-aside-close " id="kt_aside_close_btn"><i class="la la-close"></i></button>
            -->
           
                <!-- begin:: Aside -->
                <div class="kt-aside__brand kt-grid__item logo_chartlayout_custom" id="kt_aside_brand">
                    <div class="kt-aside__brand-logo">
                        <img alt="Logo" src="~/assets/media/Logo/MARS_LOGO.png" style="width:100%;max-width:200px;" />
                    </div>
                  
                </div>
                <!-- end:: Aside -->
               
            
          
            <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper chart_layout_custom_maingrid" id="kt_wrapper" style="padding-top: 10px;">
                <!-- begin:: Header -->
                <div id="kt_header" class="kt-header kt-grid__item  kt-header--fixed ">
                    <!-- begin:: Header Menu -->
                    <div class="kt-header-menu-wrapper" id="kt_header_menu_wrapper">
                        <div id="kt_header_menu" class="kt-header-menu kt-header-menu-mobile  kt-header-menu--layout-default ">
                            <ul class="kt-menu__nav ">
                                @if (PrivilegeList.Select(y => y.MODULE).ToList().Contains("Database Connection"))
                                {
                                    <li class="kt-menu__item  kt-menu__item--submenu kt-menu__item--rel" data-ktmenu-submenu-toggle="hover" aria-haspopup="true">
                                        <a href="javascript:;" class="kt-menu__link kt-menu__toggle">
                                            <span class="kt-menu__link-text">Database</span>
                                            <i class="kt-menu__ver-arrow la la-angle-right"></i>
                                        </a>
                                       
                                        <div class="kt-menu__submenu kt-menu__submenu--classic kt-menu__submenu--left">
                                            <ul class="kt-menu__subnav">
                                                @if (PrivilegeList.Select(y => y.PRIVILEGE_NAME.Trim()).ToList().Contains("View Connection"))
                                                {
                                                    <li class="kt-menu__item " aria-haspopup="true">
                                                        <a href="javascript:;" onclick=chartDatabaseConnection() class="kt-menu__link ">
                                                            <span class="kt-menu__link-icon">
                                                                <i class="flaticon-list-2"></i>
                                                            </span><span class="kt-menu__link-text">List</span>
                                                        </a>
                                                    </li>
                                                }
                                                </ul>
                                        </div>
                                    </li>
                                }
                                @if (PrivilegeList.Select(y => y.MODULE).ToList().Contains("Query"))
                                {
                                    <li class="kt-menu__item  kt-menu__item--submenu kt-menu__item--rel" data-ktmenu-submenu-toggle="hover" aria-haspopup="true">
                                        <a href="javascript:;" class="kt-menu__link kt-menu__toggle">
                                            <span class="kt-menu__link-text">Query</span>
                                            <i class="kt-menu__ver-arrow la la-angle-right"></i>
                                        </a>
                                      
                                        <div class="kt-menu__submenu kt-menu__submenu--classic kt-menu__submenu--left">
                                            <ul class="kt-menu__subnav">
                                                @if (PrivilegeList.Select(y => y.PRIVILEGE_NAME.Trim()).ToList().Contains("View Query"))
                                                {
                                                    <li class="kt-menu__item " aria-haspopup="true">
                                                        <a href="javascript:;" onclick=chartQueryList() class="kt-menu__link ">
                                                            <span class="kt-menu__link-icon">
                                                                <i class="flaticon-list-2"></i>
                                                            </span><span class="kt-menu__link-text">List</span>
                                                        </a>
                                                    </li>
                                                }
                                                </ul>
                                        </div>
                                    </li>
                                }
                                @if (PrivilegeList.Select(y => y.MODULE).ToList().Contains("Display Chart"))
                                {
                                    <li class="kt-menu__item  kt-menu__item--submenu kt-menu__item--rel" data-ktmenu-submenu-toggle="hover" aria-haspopup="true">
                                        <a href="javascript:;" class="kt-menu__link kt-menu__toggle">
                                            <span class="kt-menu__link-text">Charts</span>
                                            <i class="kt-menu__ver-arrow la la-angle-right"></i>
                                        </a>
                                        <div class="kt-menu__submenu kt-menu__submenu--classic kt-menu__submenu--left">
                                            <ul class="kt-menu__subnav">
                                                @if (PrivilegeList.Select(y => y.PRIVILEGE_NAME.Trim()).ToList().Contains("Display Chart"))
                                                {
                                                    <li class="kt-menu__item " aria-haspopup="true">
                                                        <a href="javascript:;" onclick=showCharts() class="kt-menu__link ">
                                                            <span class="kt-menu__link-icon">
                                                                <i class="flaticon-list-2"></i>
                                                            </span><span class="kt-menu__link-text">Show Charts</span>
                                                        </a>
                                                    </li>
                                                }
                                              
                                            </ul>
                                        </div>
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                 
                    <!-- end:: Header Menu -->
                    <!-- begin:: Header Topbar -->
                    <div class="kt-header__topbar">
                        <div class="kt-header__topbar-item kt-header__topbar-item--quick-panel">
                            @*<span class="kt-header__topbar-icon" data-toggle="kt-tooltip" data-placement="top" title="@SessionManager.Schema">

                                    <i class="flaticon-coins"></i>
                                </span>*@
                            <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="Database: @SessionManager.Schema/@SessionManager.Host" data-original-title="" title=""><i class="fa fa-database"></i></span>
                        </div>
                        <!--begin: Quick panel toggler -->
                        <div class="kt-header__topbar-item kt-header__topbar-item--quick-panel" data-toggle="kt-tooltip" title="Quick panel" data-placement="right">
                            <span class="kt-header__topbar-icon" id="kt_quick_panel_toggler_btn">
                                <i class="flaticon2-settings"></i>
                            </span>
                        </div>
                        <input type="hidden" id="hdnUserId" value="@SessionManager.TESTER_ID" />
                        <!--end: Quick panel toggler -->
                        <!--begin: User Bar -->
                        <div class="kt-header__topbar-item kt-header__topbar-item--user">
                            <div class="kt-header__topbar-wrapper" id="dropdownbox" data-toggle="dropdown" data-offset="0px,0px">
                                <div class="kt-header__topbar-user">
                                    <span class="kt-header__topbar-welcome kt-hidden-mobile">Hi,</span>
                                    <span class="kt-header__topbar-username kt-hidden-mobile">@SessionManager.TESTER_LOGIN_NAME</span>
                                    <img class="kt-hidden" alt="Pic" src="~/assets/media/users/300_25.jpg" />
                                    <!--use below badge element instead the user avatar to display username's first letter(remove kt-hidden class to display it) -->
                                    <span class="kt-badge kt-badge--username kt-badge--unified-success kt-badge--lg kt-badge--rounded kt-badge--bold">@SessionManager.TESTER_LOGIN_NAME.Substring(0, 1).ToUpper()</span>
                                </div>
                            </div>
                            <div class="dropdown-menu dropdown-menu-fit dropdown-menu-right dropdown-menu-anim dropdown-menu-top-unround dropdown-menu-xl" id="UserHeaderDropdown">
                                <!--begin: Head -->
                                @*<div class="kt-user-card kt-user-card--skin-dark kt-notification-item-padding-x" style="background-image: url(assets/media/misc/bg-1.jpg)">
                                        <div class="kt-user-card__avatar">
                                            <img class="kt-hidden" alt="Pic" src="~/assets/media/users/300_25.jpg" />
                                            <span class="kt-badge kt-badge--lg kt-badge--rounded kt-badge--bold kt-font-success"></span>

                                        </div>
                                        <div style="font-size: xx-large;color: lightblue;"> @(SessionManager.TESTER_NAME_F + "  " + SessionManager.TESTER_NAME_LAST)</div>
                                    </div>*@
                                <!--end: Head -->
                                <!--begin: Navigation -->
                                <div class="kt-notification">
                                    <a href="#" onclick="AddEditUser(@SessionManager.TESTER_ID)" class="kt-notification__item">
                                        <div class="kt-notification__item-icon">
                                            <i class="flaticon2-calendar-3 kt-font-success"></i>
                                        </div>
                                        <div class="kt-notification__item-details">
                                            <div class="kt-notification__item-title kt-font-bold">
                                                My Profile
                                            </div>
                                            <div class="kt-notification__item-time">
                                                Account settings and more
                                            </div>
                                        </div>
                                    </a>

                                    <div class="kt-notification__custom kt-space-between">
                                        <a href="@Url.Action("Logout","Login")" class="btn btn-label btn-label-brand btn-sm btn-bold">Sign Out</a>
                                    </div>
                                </div>
                                <!--end: Navigation -->
                            </div>
                        </div>
                        <!--end: User Bar -->
                    </div>
                    <!-- end:: Header Topbar -->
                </div>
                <!-- end:: Header -->
                @RenderBody()

                <!-- begin:: Footer -->
                @*<div class="kt-footer  kt-grid__item kt-grid kt-grid--desktop kt-grid--ver-desktop" id="kt_footer">
                        <div class="kt-container  kt-container--fluid ">

                            <div class="kt-footer__menu">
                                <a href="#" target="_blank" class="kt-footer__menu-link kt-link">About</a>
                                <a href="#" target="_blank" class="kt-footer__menu-link kt-link">Team</a>
                                <a href="#" target="_blank" class="kt-footer__menu-link kt-link">Contact</a>
                            </div>
                        </div>
                    </div>*@
                <!-- end:: Footer -->
            </div>
       
    </div>
    <!-- end:: Page -->
    <!-- begin::Quick Panel -->
    <div id="kt_quick_panel" class="kt-quick-panel">
        <a href="#" class="kt-quick-panel__close" id="kt_quick_panel_close_btn"><i class="flaticon2-delete"></i></a>
        <div class="kt-quick-panel__nav">
            <ul class="tab_sidebar nav nav-tabs nav-tabs-line nav-tabs-bold nav-tabs-line-3x nav-tabs-line-brand  kt-notification-item-padding-x" role="tablist">
                <li class="nav-item active">
                    <a class="nav-link active" data-toggle="tab" href="#kt_quick_panel_tab_notifications" role="tab">User Configuration</a>
                </li>

            </ul>
        </div>
        <div class="kt-quick-panel__content">
            <div class="tab-content">
                <div class="tab-pane fade show kt-scroll active" id="kt_quick_panel_tab_notifications" role="tabpanel">
                    <div class="kt-notification">
                        @if (PrivilegeList.Select(y => y.MODULE).ToList().Contains("User List"))
                        {
                            <a href="#" onclick=RightSideUserGrid("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="fa fa-users"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="Configure MARS users" data-original-title="" title="">User List</span>
                                    </div>
                                </div>
                            </a>
                        }
                        @*<a href="#" onclick=UserexecutionEnginePathList("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="fa fa-route"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="Location of the MARS Engine on the client's machine." data-original-title="" title="">Engine Path</span>
                                    </div>
                                </div>
                            </a>*@
                        @*<a href="#" onclick="PartialConnectionList()" class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="fa fa-users"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        Database Connection
                                    </div>
                                    <div class="kt-notification__item-time">
                                        DB Connection
                                    </div>
                                </div>
                            </a>*@
                        @if (PrivilegeList.Select(y => y.MODULE).ToList().Contains("Assign Project") && PrivilegeList.Select(y => y.PRIVILEGE_NAME.Trim()).ToList().Contains("Edit Assign Project"))
                        {
                            <a href="#" onclick=partialRightOpenProjectList("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="flaticon-list-3"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="Projects that will be displayed at login" data-original-title="" title="">Project Display List</span>
                                    </div>
                                </div>
                            </a>
                        }
        

                        @if (RoleList.Select(y => y.ROLE_NAME.Trim().ToLower()).ToList().Contains("admin"))
                        {
                            <a href="#" onclick=partialRightOpenUserList("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="flaticon-list-2"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content=" Assign projects to users." data-original-title="" title="">Assign Projects</span>
                                    </div>
                                </div>
                            </a>
                            <a href="#" onclick=RightSideUserActivePageList("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="fa fa-map-pin"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="Active Page List" data-original-title="" title="">Active Page List</span>
                                    </div>
                                </div>
                            </a>
                        }
                        <a href="#" onclick=RightSideGridList("0") class="kt-notification__item">
                            <div class="kt-notification__item-icon">
                                <i class="flaticon2-arrow-1"></i>
                            </div>
                            <div class="kt-notification__item-details">
                                <div class="kt-notification__item-title">
                                    <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="Set width for grid" data-original-title="" title="">Grid List Configuration</span>
                                </div>
                            </div>
                        </a>
                        @if (RoleList.Select(y => y.ROLE_NAME.Trim().ToLower()).ToList().Contains("admin"))
                        {
                            <a href="#" onclick=RightSideUserRoleMappingList("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="flaticon-list-2"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="User Role Mapping List" data-original-title="" title="">User Role Mapping List</span>
                                    </div>
                                </div>
                            </a>
                            <a href="#" onclick=RightSidePrivilegeRoleMapping("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="flaticon-list-2"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="Privilege Role Mapping" data-original-title="" title="">Privilege Role Mapping</span>
                                    </div>
                                </div>
                            </a>
                        }
                        @if (PrivilegeList.Select(y => y.MODULE).ToList().Contains("Group"))
                        {
                            <a href="#" onclick=RightSideGroupList("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="flaticon-list-2"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="Group List" data-original-title="" title="">Group List</span>
                                    </div>
                                </div>
                            </a>
                        }
                        @if (PrivilegeList.Select(y => y.MODULE).ToList().Contains("Set"))
                        {
                            <a href="#" onclick=RightSideSetList("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="flaticon-list-2"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="Set List" data-original-title="" title="">Set List</span>
                                    </div>
                                </div>
                            </a>
                        }
                        @if (PrivilegeList.Select(y => y.MODULE).ToList().Contains("Folder"))
                        {
                            <a href="#" onclick=RightSideFolderList("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="flaticon-list-2"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="Folder List" data-original-title="" title="">Folder List</span>
                                    </div>
                                </div>
                            </a>
                        }
                        @if (PrivilegeList.Select(y => y.MODULE).ToList().Contains("UserConfiguration"))
                        {
                            <a href="#" onclick=RightSideUserConfigList("0") class="kt-notification__item">
                                <div class="kt-notification__item-icon">
                                    <i class="fa fa-user"></i>
                                </div>
                                <div class="kt-notification__item-details">
                                    <div class="kt-notification__item-title">
                                        <span class="kt-header__topbar-icon" data-skin="brand" data-container="body" data-toggle="kt-popover" data-placement="bottom" data-content="User Configuration" data-original-title="" title="">User Configuration</span>
                                    </div>
                                </div>
                            </a>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- end::Quick Panel -->
    <!-- begin::Scrolltop -->
    <div id="kt_scrolltop" class="kt-scrolltop">
        <i class="fa fa-arrow-up"></i>
    </div>
 

    <div class="modal fade" id="ValidateMsgModel" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Validation Message</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="kt-scroll" data-scroll="true" data-height="250" id="ValidationMessageLabel">
                        @*<p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
                            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>*@
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    @*<button type="button" class="btn btn-primary">Save changes</button>*@
                </div>
            </div>
        </div>
    </div>

    <div class="kt-menu__submenu kt-menu__submenu--classic kt-menu__submenu--left" type="context" id="CloseTab" style="width:170px;margin-top: 5px;margin-bottom: 1rem;margin-right: 31px;margin-left: 0px;background-color:#1c6081;">
        <ul class="kt-menu__subnav " style="margin-left:-35px;margin-right:10px;margin-bottom:0px;margin-bottom:0px;">
            <li class="kt-menu__item kt-menu__item1 " id="righttabLi" aria-haspopup="true" style="color:#fff; height:56px;">
                <a href="javascript:;" style="color:white !important" class="kt-menu__link kt-menu__toggle CloseAllBut " data-tab-name="" data-tab-id="" onclick="Closeallbutthistab($(this))">
                    <span class="kt-menu__link-icon">
                        <i class="fa fa-times-circle tab_close"></i>
                    </span><span class="kt-menu__link-text">Close all but this tab</span>
                </a>
                <a href="javascript:;" style="color:white !important" class="kt-menu__link kt-menu__toggle CloseAll " data-tab-name="" data-tab-id="" onclick="CloseAll($(this))">
                    <span class="kt-menu__link-icon">
                        <i class="fa fa-times-circle tab_close"></i>
                    </span><span class="kt-menu__link-text">Close All</span>
                </a>
                <a href="javascript:;" style="color:white !important" class="kt-menu__link kt-menu__toggle PinTab" data-tab-name="" data-tab-id="" onclick="PinTab($(this))">
                    <span class="kt-menu__link-icon">
                        <i class="fa fa-map-pin"></i>
                    </span><span class="kt-menu__link-text">Pin Tab</span>
                </a>
                <a href="javascript:;" style="color:white !important" class="kt-menu__link kt-menu__toggle UnPinTab" data-tab-name="" data-tab-id="" onclick="PinTab($(this))">
                    <span class="kt-menu__link-icon">
                        <i class="fa fa-mars-stroke-h"></i>
                        <!--<i class="fa fa-map-pin"></i>-->
                    </span><span class="kt-menu__link-text">UnPin Tab</span>
                </a>
            </li>
        </ul>
    </div>

    <div class="modal fade" id="ExecutePopup" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" style="display: none;">
        <div class="modal-dialog modal-sm" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h6 class="modal-title" style="margin-top: 2px;" id="exampleModalLabel">Execute Engine</h6>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form>
                        <input type="hidden" id="hdnExeStoryboardId">
                        <input type="hidden" id="hdnExeStoryboardName">
                        <input type="hidden" id="hdnExeLoginUName" value="@SessionManager.TESTER_LOGIN_NAME">
                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="name" class="form-control-label">Test On Applcation:</label>
                            <select class="form-control" id="drpExeApp" style="width: 260px;height: 32px;"></select>


                        </div>
                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="name" class="form-control-label">Test Execution Mode:</label>
                            <select class="form-control" id="drpExecMode" style="width: 260px;height: 32px;">
                                <option value="Base">Baseline</option>
                                <option value="Compare">Compareline</option>
                            </select>


                        </div>
                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="name" class="form-control-label">Continue to Test:</label>
                            <input type="checkbox" id="chkExeConTest" />


                        </div>
                        <div class="form-group" style="margin-bottom: 1rem;">
                            <label for="name" class="form-control-label">Ignore Runtime Error:</label>
                            <input type="checkbox" id="chkExeIgnoreError" />


                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" onclick="ExecuteEngine('@SessionManager.Schema')">Execute Storyboard</button>
                </div>
            </div>
        </div>
    </div>

  

   

    @{
        var authenticationSettings = System.Configuration.ConfigurationManager.GetSection("system.web/authentication") as System.Web.Configuration.AuthenticationSection;
    }
    <!--ENd:: Chat-->
    <!-- begin::Global Config(global config for global JS sciprts) -->
    <script>
        var KTAppOptions = {
            "colors": {
                "state": {
                    "brand": "#5d78ff",
                    "dark": "#282a3c",
                    "light": "#ffffff",
                    "primary": "#5867dd",
                    "success": "#34bfa3",
                    "info": "#36a3f7",
                    "warning": "#ffb822",
                    "danger": "#fd3995"
                },
                "base": {
                    "label": [
                        "#c5cbe3",
                        "#a1a8c3",
                        "#3d4465",
                        "#3e4466"
                    ],
                    "shape": [
                        "#f0f3ff",
                        "#d9dffa",
                        "#afb4d4",
                        "#646c9a"
                    ]
                }
            }
        };</script>

    <script src="~/assets/js/scripts.bundle.js" type="text/javascript"></script>
    <script src="~/assets/plugins/custom/datatables/datatables.bundle.js" type="text/javascript"></script>
    <script src="~/assets/plugins/custom/jquery-ui/jquery-ui.bundle.js" type="text/javascript"></script>
    <script src="~/assets/js/pages/components/portlets/draggable.js" type="text/javascript"></script>
    <script src="~/assets/js/simplebar.min.js"></script>
    <script src="~/Scripts/CrudOperation/Custom_crud.js"></script>
    <script src="~/Scripts/Tab/Custom_AddingTab.js"></script>
    <script src="~/Scripts/Import_Export/Custom_ImporExport.js"></script>
    <script src="~/assets/js/pages/components/extended/sweetalert2.js" type="text/javascript"></script>
    <script src="~/assets/js/pages/crud/forms/widgets/select2.js" type="text/javascript"></script>

    <script src="~/Scripts/ExecuteEngine/ExecuteEngine.js"></script>

    <script>
        $(document).ready(function () {

             var lwidth = @ViewBag.LeftPanelwidth;
            $(".kt-aside").css("width", lwidth + "px");
            $("#kt_header").css("left", lwidth + "px");
            $(".kt-wrapper").css("padding-left", "60 px");
           // $("#kt-wrapper").css("padding-top", "10 px");
            $("#kt-wrapper").removeAttr("style", "padding-top");
            $(".kt-subheader").css("left", lwidth + "px");
            $("#hdnLeftPanelWidth").val(lwidth);

            function ilSessionTimeout() {
                window.location = '@Url.Action("login", "login", new { area = "" })';
            };
            function ilSessionTimeoutWarning() {
                $.jGrowl('You will be logged off soon due to inactivity.', { sticky: true, theme: 'growl-warning', header: 'Attention' });
            };
            // remember our timers so we can cancel when we unload this page and reset them on the next page load
            var g_pageTimer = window.setTimeout(ilSessionTimeout, @authenticationSettings.Forms.Timeout.TotalMilliseconds);
            var g_pageTimerWarning = window.setTimeout(ilSessionTimeoutWarning, Math.round(@authenticationSettings.Forms.Timeout.TotalMilliseconds*0.8));
            // clean up anything that needs cleaning before we leave this page
            window.onbeforeunload = function(e) {
                // clear the timers
                window.clearTimeout(g_pageTimer);
                window.clearTimeout(g_pageTimerWarning);
            };

            $.ajax({
                type: "post",
                url: "/StoryBoard/SignalRConnect",
                async: false,
                success: function (d) {
                    /* d is the HTML of the returned response */



                }
            });
        });

      var datasetobj;
        var lobjTestSuite;
        var lobjTestCase;
        var lobjProject;
        var lobjstoryboard;

    
        $(document).ready(function () {
            if ($(".context-menu-tab").addEventListener) {
                $("#test").addEventListener('contextmenu', function (e) {
                    alert("You've tried to open context menu"); //here you draw your own menu
                    e.preventDefault();
                }, false);
            }
            else {
                $('body').on('contextmenu', 'a.context-tab', function () {
                    document.getElementById("CloseTab").className = "rightcontext";
                    document.getElementById("CloseTab").style.top = mouseY(event) + 'px';
                    document.getElementById("CloseTab").style.left = mouseX(event) + 'px';
                    window.event.returnValue = false;
                    var flag = true;
                    var ltabId = $(this).attr("data-id");
                    var ltabName = $(this).attr("data-name");
                    var ltabDataName = $(this).attr("data-tab");
                    var lIsPin = $(this).attr("data-pin");
                    var ProjectId = $(this).attr("data-projectId") == undefined ? "0" : $(this).attr("data-projectId");
                    $(".CloseAllBut").attr("data-tab-name", ltabName);
                    $(".CloseAllBut").attr("data-tab-id", ltabId);

                    $(".CloseAll").attr("data-tab-name", ltabName);
                    $(".CloseAll").attr("data-tab-id", ltabId);

                    if (ltabDataName == "ImportResultSet" || ltabDataName == "GirdList" || ltabDataName == "UserRoleMappingList" || ltabDataName == "RolePrivileges"
                        || ltabDataName == "DataTag") {
                        flag = false;
                    }

                    $.ajax({
                        url: "/Accounts/CheckPinExist",
                        type: "POST",
                        data: JSON.stringify({ "datatab": ltabDataName, "dataid": ltabId, "ProjectId": ProjectId}),
                        contentType: "application/json;charset=utf-8",
                        dataType: "HTML",
                        success: function (result) {
                            result = JSON.parse(result);
                            if (result.status == 1) {
                                lIsPin = result.data;
                                $("#righttabLi").css("height", "56px");
                                if (!flag) {
                                    $(".PinTab").css("display", "none");
                                    $(".UnPinTab").css("display", "none");
                                    $("#righttabLi").css("height", "40px");
                                }
                                else {
                                    if (lIsPin == true) {
                                        $(".PinTab").attr("data-tab-name", ltabName);
                                        $(".PinTab").attr("data-tab-id", ltabId);
                                        $(".UnPinTab").attr("data-tab-name", ltabName);
                                        $(".UnPinTab").attr("data-tab-id", ltabId);
                                        $(".PinTab").css("display", "none");
                                        $(".UnPinTab").css("display", "block");
                                    } else {
                                        $(".PinTab").attr("data-tab-name", ltabName);
                                        $(".PinTab").attr("data-tab-id", ltabId);
                                        $(".UnPinTab").attr("data-tab-name", ltabName);
                                        $(".UnPinTab").attr("data-tab-id", ltabId);
                                        $(".UnPinTab").css("display", "none");
                                        $(".PinTab").css("display", "block");
                                    }
                                }
                            }
                            else if (result.status == 0) {
                                swal.fire({
                                    "title": "",
                                    "text": result.message,
                                    "icon": "error",
                                    "onClose": function (e) {
                                        console.log('on close event fired!');
                                    }
                                });
                            }
                        },
                    });
                });
            }
        });

        // this is from another SO post...
        $(document).bind("click", function (event) {
           
            if (document.getElementById("CloseTab") != null)
            document.getElementById("CloseTab").className = "rightContexthide";
        });

        function mouseX(evt) {
            if (evt.pageX) {
                return evt.pageX;
            } else if (evt.clientX) {
                return evt.clientX + (document.documentElement.scrollLeft ?
                    document.documentElement.scrollLeft :
                    document.body.scrollLeft);
            } else {
                return null;
            }
        }

        function mouseY(evt) {
            if (evt.pageY) {
                return evt.pageY;
            } else if (evt.clientY) {
                return evt.clientY + (document.documentElement.scrollTop ?
                    document.documentElement.scrollTop :
                    document.body.scrollTop);
            } else {
                return null;
            }
        }

        
        function startloader() {

            console.log("loader started");
            $(".lds-roller").show();
            $("body").css("pointer-events", "none");
           // $("#mainbody").css("opacity", "0.5");
           // $("#mainbody").css("z-index", "-1");
            $("#mainbody").css("opacity", "0.1");
            $("#mainbody").css("z-index", "1");
            $(".modal").css("opacity", "0.5");
            $(".lds-roller").css("opacity", "1");
            $(".lds-roller").css("z-index", "999999");
        }

        function stoploader() {
          
            $(".lds-roller").hide();
            $("body").css("pointer-events", "visible");
           // $("#mainbody").css("opacity", "1");
           // $("#mainbody").css("z-index", "1");
            $(".modal").css("opacity", "");
            $("#mainbody").css("opacity", "1");
            $("#mainbody").css("z-index", "1");
            $(".lds-roller").css("z-index", "");
            $(".lds-roller").css("opacity", "");
        }

        function startloader_modal() {
            console.log("loader started");
            $(".lds-roller").show();
            $("body").css("pointer-events", "none");
            $(".modal-content").css("opacity", "0.5");
            $(".modal-content").css("z-index", "1");
            $(".modal").css("opacity", "0.5");
            $(".lds-roller").css("opacity", "1");
            $(".lds-roller").css("z-index", "999999");
        }
        function stoploader_modal() {
            console.log("loader stopped");
            $(".lds-roller").hide();
            $("body").css("pointer-events", "visible");
            // $("#mainbody").css("opacity", "1");
            // $("#mainbody").css("z-index", "1");
            $(".modal").css("opacity", "");
            $(".modal-content").css("opacity", "1");
            $(".modal-content").css("z-index", "1");
            $(".lds-roller").css("z-index", "");
            $(".lds-roller").css("opacity", "");
        }
        

    $("#tabsList").tabs({
        activate: function (evt, ui) {
            ui.newPanel.find(".pq-grid").pqGrid('refresh');
        }
    });


    </script>

    <script>
        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });
        //var box = document.getElementById('myBox')
       // new SimpleBar(box);
        
        function chartDatabaseConnection() {
            $.ajax({
                url: "/DatabaseConnection/DatabaseList",
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType: "HTML",
                success: function (result) {
                    
                    //CheckAtiveTabStatus();
                    var lflag = false;

                    $('.ULtablist li').each(function (index, value) {
                        if ($(value).children().first().attr("data-target") == "#tabconnectionlist") {
                            lflag = true;
                        }
                    });
                   
                    var ltab = "";
                    //if (Default == "1") {
                    //    ltab = '<li class="nav-item context-menu-tab"><a data-pin="true" href="#tabconnectionlist"  class="nav-link active context-tab" data-tab="ApplicationList" data-id="0" data-name="ApplicationList" data-toggle="tab" href="#" data-target="#tabconnectionlist" onclick="ActiveTab($(this))"><img alt="Application List" class="tab_icons_img" src="/assets/media/icons/application.png"> Application List</a><i class="fa fa-times-circle tab_close" style="cursor:pointer" onclick="closetab($(this))"></i></li>';
                    //} else {
                    //    ltab = '<li class="nav-item context-menu-tab"><a data-pin="false" href="#tabconnectionlist"  class="nav-link active context-tab" data-tab="ApplicationList" data-id="0" data-name="ApplicationList" data-toggle="tab" href="#" data-target="#tabconnectionlist" onclick="ActiveTab($(this))"><img alt="Application List" class="tab_icons_img" src="/assets/media/icons/application.png"> Application List</a><i class="fa fa-times-circle tab_close" style="cursor:pointer" onclick="closetab($(this))"></i></li>';
                    //}
                    ltab = '<li class="nav-item context-menu-tab"><a data-pin="false" href="#tabconnectionlist"  class="nav-link active context-tab" data-tab="ConnectionList" data-id="0" data-name="ConnectionList" data-toggle="tab" href="#" data-target="#tabconnectionlist" onclick="ActiveTab($(this))"><img alt="Connection List" class="tab_icons_img" src="/assets/media/icons/connection.png"> Connection List</a><i class="fa fa-times-circle tab_close" style="cursor:pointer" onclick="closetab($(this))"></i></li>';
                    var ldiv = '<div class="tab-pane active div" id="tabconnectionlist" role="tabpanel">' + result + '</div>';

                    if (lflag) {
                        $('.ULtablist li').each(function (index, value) {
                            if ($(value).children().first().attr("data-target") == "#tabconnectionlist") {
                                $(value).children().first().addClass("active");
                            } else {
                                $(value).children().first().removeClass("active");
                            }
                        });
                        $('.divtablist div').each(function (index, value) {
                            if ($(value).first().attr("id") == "tabconnectionlist") {
                                $(value).addClass("active");
                            } else {
                                $(value).removeClass("active");
                            }
                        });
                    }
                    else {

                        $(".ULtablist").append(ltab);
                        $(".divtablist").append(ldiv);
                        $('.ULtablist li').each(function (index, value) {
                            if ($(value).children().first().attr("data-target") != "#tabconnectionlist") {
                                $(value).children().first().removeClass("active");
                            }
                        });
                        $('.divtablist div').each(function (index, value) {
                            if ($(value).first().attr("id") != "tabconnectionlist") {
                                $(value).removeClass("active");
                            }
                        });
                    }
                    stoploader();
                },
            });
        }

        function chartQueryList() {
            
            
            $.ajax({
                url: "/Query/QueryList",
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType: "HTML",
                success: function (result) {
                    //CheckAtiveTabStatus();
                    var lflag = false;

                    $('.ULtablist li').each(function (index, value) {
                        if ($(value).children().first().attr("data-target") == "#tabquerylist") {
                            lflag = true;
                        }
                    });
                   
                    var ltab = "";
                    //if (Default == "1") {
                    //    ltab = '<li class="nav-item context-menu-tab"><a data-pin="true" href="#tabquerylist"  class="nav-link active context-tab" data-tab="ApplicationList" data-id="0" data-name="ApplicationList" data-toggle="tab" href="#" data-target="#tabquerylist" onclick="ActiveTab($(this))"><img alt="Application List" class="tab_icons_img" src="/assets/media/icons/application.png"> Application List</a><i class="fa fa-times-circle tab_close" style="cursor:pointer" onclick="closetab($(this))"></i></li>';
                    //} else {
                    //    ltab = '<li class="nav-item context-menu-tab"><a data-pin="false" href="#tabquerylist"  class="nav-link active context-tab" data-tab="ApplicationList" data-id="0" data-name="ApplicationList" data-toggle="tab" href="#" data-target="#tabquerylist" onclick="ActiveTab($(this))"><img alt="Application List" class="tab_icons_img" src="/assets/media/icons/application.png"> Application List</a><i class="fa fa-times-circle tab_close" style="cursor:pointer" onclick="closetab($(this))"></i></li>';
                    //}
                    ltab = '<li class="nav-item context-menu-tab"><a data-pin="false" href="#tabquerylist"  class="nav-link active context-tab" data-tab="QueryList" data-id="0" data-name="ConnectionList" data-toggle="tab" href="#" data-target="#tabquerylist" onclick="ActiveTab($(this))"><img alt="Query List" class="tab_icons_img" src="/assets/media/icons/query.png"> Query List</a><i class="fa fa-times-circle tab_close" style="cursor:pointer" onclick="closetab($(this))"></i></li>';
                    var ldiv = '<div class="tab-pane active div" id="tabquerylist" role="tabpanel">' + result + '</div>';

                    if (lflag) {
                        $('.ULtablist li').each(function (index, value) {
                            if ($(value).children().first().attr("data-target") == "#tabquerylist") {
                                $(value).children().first().addClass("active");
                            } else {
                                $(value).children().first().removeClass("active");
                            }
                        });
                        $('.divtablist div').each(function (index, value) {
                            if ($(value).first().attr("id") == "tabquerylist") {
                                $(value).addClass("active");
                            } else {
                                $(value).removeClass("active");
                            }
                        });
                    }
                    else {

                        $(".ULtablist").append(ltab);
                        $(".divtablist").append(ldiv);
                        $('.ULtablist li').each(function (index, value) {
                            if ($(value).children().first().attr("data-target") != "#tabquerylist") {
                                $(value).children().first().removeClass("active");
                            }
                        });
                        $('.divtablist div').each(function (index, value) {
                            if ($(value).first().attr("id") != "tabquerylist") {
                                $(value).removeClass("active");
                            }
                        });
                    }
                    stoploader();
                },
            });
            stoploader();
        }

        function showCharts() {

            $.ajax({
                url: "/Chart/ShowChart",
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType: "HTML",
                success: function (result) {
                    //CheckActiveTabStatus();
                    var lflag = false;

                    $('.ULtablist li').each(function (index, value) {
                        if ($(value).children().first().attr("data-target") == "#tabshowchart") {
                            lflag = true;
                        }
                    });

                    var ltab = "";
                    //if (Default == "1") {
                    //    ltab = '<li class="nav-item context-menu-tab"><a data-pin="true" href="#tabshowchart"  class="nav-link active context-tab" data-tab="ApplicationList" data-id="0" data-name="ApplicationList" data-toggle="tab" href="#" data-target="#tabshowchart" onclick="ActiveTab($(this))"><img alt="Application List" class="tab_icons_img" src="/assets/media/icons/application.png"> Application List</a><i class="fa fa-times-circle tab_close" style="cursor:pointer" onclick="closetab($(this))"></i></li>';
                    //} else {
                    //    ltab = '<li class="nav-item context-menu-tab"><a data-pin="false" href="#tabshowchart"  class="nav-link active context-tab" data-tab="ApplicationList" data-id="0" data-name="ApplicationList" data-toggle="tab" href="#" data-target="#tabshowchart" onclick="ActiveTab($(this))"><img alt="Application List" class="tab_icons_img" src="/assets/media/icons/application.png"> Application List</a><i class="fa fa-times-circle tab_close" style="cursor:pointer" onclick="closetab($(this))"></i></li>';
                    //}
                    ltab = '<li class="nav-item context-menu-tab"><a data-pin="false" href="#tabshowchart"  class="nav-link active context-tab" data-tab="ShowChart" data-id="0" data-name="ShowChart" data-toggle="tab" href="#" data-target="#tabshowchart" onclick="ActiveTab($(this))"><img alt="Show Chart" class="tab_icons_img" src="/assets/media/icons/show_chart.png">Show Chart</a><i class="fa fa-times-circle tab_close" style="cursor:pointer" onclick="closetab($(this))"></i></li>';
                    var ldiv = '<div class="tab-pane active div" id="tabshowchart" role="tabpanel">' + result + '</div>';

                    if (lflag) {
                        $('.ULtablist li').each(function (index, value) {
                            if ($(value).children().first().attr("data-target") == "#tabshowchart") {
                                $(value).children().first().addClass("active");
                            } else {
                                $(value).children().first().removeClass("active");
                            }
                        });
                        $('.divtablist div').each(function (index, value) {
                            if ($(value).first().attr("id") == "tabshowchart") {
                                $(value).addClass("active");
                            } else {
                                $(value).removeClass("active");
                            }
                        });
                    }
                    else {

                        $(".ULtablist").append(ltab);
                        $(".divtablist").append(ldiv);
                        $('.ULtablist li').each(function (index, value) {
                            if ($(value).children().first().attr("data-target") != "#tabshowchart") {
                                $(value).children().first().removeClass("active");
                            }
                        });
                        $('.divtablist div').each(function (index, value) {
                            if ($(value).first().attr("id") != "tabshowchart") {
                                $(value).removeClass("active");
                            }
                        });
                    }
                    stoploader();
                },
            });
            stoploader();
        }

    </script>
</body>
</html>